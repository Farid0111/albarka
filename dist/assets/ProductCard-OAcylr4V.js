import{j as e,a as s}from"./index-CHmuOyXQ.js";import{r,L as a}from"./vendor-_hJ_S9AP.js";import{g as n}from"./price-zQCLA0EB.js";function t({src:s,alt:a,className:n=""}){const[t,c]=r.useState(null),[o,i]=r.useState(!0),l=r.useRef(null);return r.useEffect(()=>{const e=new IntersectionObserver(r=>{r.forEach(r=>{r.isIntersecting&&(c(s),e.unobserve(r.target))})},{rootMargin:"50px"});return l.current&&e.observe(l.current),()=>{l.current&&e.unobserve(l.current)}},[s]),e.jsx("img",{ref:l,src:t,alt:a,className:n,loading:"lazy",onLoad:()=>i(!1),style:{opacity:o?.6:1,transition:"opacity 0.3s ease-in-out"}})}const c=r.memo(function({product:r}){const{addToCart:c}=s(),{id:o,name:i=(null==r?void 0:r.nom)??"Sans nom",description:l=(null==r?void 0:r.desc)??"",price:d=0,emoji:u="ðŸ“¦",image:m=(null==r?void 0:r.imageUrl)??(null==r?void 0:r.image)??(null==r?void 0:r.photo)}=r??{},p=n(d);return e.jsxs("article",{className:"product-card",children:[e.jsxs(a,{to:`/produits/${o}`,className:"product-card-link",children:[e.jsx("div",{className:"product-image",children:m?e.jsx(t,{src:m,alt:i}):u}),e.jsx("h3",{className:"product-card-name",children:i}),l&&e.jsx("p",{className:"product-card-description",children:l}),e.jsxs("p",{className:"product-price",children:[e.jsxs("span",{className:"price-strike",children:[p," FCFA"]}),e.jsxs("span",{className:"price-current",children:[d," FCFA"]})]})]}),e.jsx("button",{type:"button",className:"btn btn-small",onClick:()=>c(o),children:"Ajouter au panier"})]})});export{c as P};
