import{u as e,a as s,j as t}from"./index-BLVL_dHp.js";import{L as r}from"./vendor-CWxX1f16.js";import{g as a}from"./price-zQCLA0EB.js";import"./firebase-DoqP6OWA.js";function i(){const{getProductById:i}=e(),{cart:c,setCartQuantity:n,removeFromCart:l}=s(),m=Object.keys(c),o=0===m.length,d=m.map(e=>{const s=i(e);if(!s)return null;const t=c[e],r=s.price,n=a(s.price);return{...s,qty:t,unitPrice:r,"priceBarrÃ©":n,subtotal:r*t}}).filter(Boolean),p=d.reduce((e,s)=>e+s.subtotal,0);return o?t.jsxs("main",{style:{flex:1},children:[t.jsxs("section",{className:"page-title",children:[t.jsx("h1",{children:"Votre panier"}),t.jsx("p",{className:"cart-empty",children:"Votre panier est vide."})]}),t.jsx("section",{className:"cart-section",style:{textAlign:"center"},children:t.jsx(r,{to:"/produits",className:"btn btn-primary",children:"Voir les produits"})})]}):t.jsxs("main",{style:{flex:1},children:[t.jsx("section",{className:"page-title",children:t.jsx("h1",{children:"Votre panier"})}),t.jsxs("section",{className:"cart-section",children:[t.jsx("div",{className:"cart-items",children:d.map(e=>t.jsxs("div",{className:"cart-row",children:[t.jsxs("span",{className:"cart-item-name",children:[e.emoji||"ðŸ“¦"," ",e.name]}),t.jsxs("div",{className:"cart-item-qty-selector",children:[t.jsx("button",{type:"button",className:"qty-btn",onClick:()=>n(e.id,e.qty-1),"aria-label":"Diminuer",children:"âˆ’"}),t.jsx("span",{className:"cart-item-qty-num",children:e.qty}),t.jsx("button",{type:"button",className:"qty-btn",onClick:()=>n(e.id,e.qty+1),"aria-label":"Augmenter",children:"+"})]}),t.jsxs("span",{className:"cart-item-price",children:[t.jsxs("span",{className:"price-strike",children:[e.priceBarrÃ©*e.qty," FCFA"]}),t.jsxs("span",{className:"price-current",children:[e.subtotal," FCFA"]})]}),t.jsx("button",{type:"button",className:"btn btn-small btn-ghost",onClick:()=>l(e.id),children:"Retirer"})]},e.id))}),t.jsxs("div",{className:"cart-summary",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Total :"})," ",t.jsx("span",{id:"cart-total",children:p})," FCFA"]}),t.jsx(r,{to:"/commander",className:"btn btn-primary",children:"Passer la commande"})]})]})]})}export{i as default};
